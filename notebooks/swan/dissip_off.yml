run_id: run1
output_dir: dwsvll
period:
  start: 20220801T000000
  duration: 1d
  interval: 1h
config:
  model_type: swanconfig
  startup:
    project:
      model_type: project
      name: DWSVLL
      nr: 'cnt1'
      title1: Dawesville dissip tunred off
    set:
      model_type: set
      level: 0.0
      depmin: 0.05
      direction_convention: nautical
    mode:
      model_type: mode
      kind: nonstationary
      dim: twodimensional
    coordinates:
      model_type: coordinates
      kind:
        model_type: spherical

  cgrid:
    model_type: regular
    spectrum:
      mdc: 360
      flow: 0.02
      fhigh: 0.5
      msc: 48
    grid:
      xp: 365311.553
      yp: 6386390.027
      alp: -16.5
      xlen: 5040
      ylen: 8720
      mx: 241
      my: 426

  # inpgrid:
  #   model_type: data_interface
  #   bottom:
  #     var: bottom
  #     source:
  #       model_type: intake
  #       catalog_uri: ../../tests/data/catalog.yaml
  #       dataset_id: gebco
  #     fac: -1.0
  #     buffer: 1.0
  #     z1: elevation
  #     coords:
  #       x: lon
  #       y: lat
  #   input:
  #     - var: wind
  #       source:
  #         model_type: intake
  #         catalog_uri: ../../tests/data/catalog.yaml
  #         dataset_id: era5
  #       buffer: 2.0
  #       filter:
  #         sort:
  #           coords: [latitude]
  #       z1: u10
  #       z2: v10
  #       coords:
  #         x: longitude
  #         y: latitude

  inpgrid:
  inpgrids:
  -
    model_type: regular
    grid_type: bottom
    xpinp: 365311.553
    ypinp: 6386390.027
    alpinp: -16.4997
    mxinp: 241
    myinp: 426
    dxinp: 20
    dyinp: 20
    excval: -999.0
    readinp:
      model_type: readinp
      fname1: 425x240x_smooth.dep
      idla: 3
      nhedf: 0


  # -
    # model_type: regular
    # grid_type: wind
    # xpinp: 0.0
    # ypinp: 0.0
    # alpinp: 0.0
    # mxinp: 10
    # myinp: 10
    # dxinp: 0.1
    # dyinp: 0.1
    # excval: -999.0
    # readinp:
    #   model_type: readinp
    #   fname1: wind.txt
    # nonstationary:
    #   tbeg: '2023-01-01T00:00:00'
    #   delt: PT30M
    #   tend: '2023-02-01T00:00:00'
    #   deltfmt: hr

  # boundary:
  #   model_type: boundspec
  #   shapespec:
  #     model_type: shapespec
  #     per_type: peak
  #     dspr_type: degrees
  #     shape:
  #       model_type: tma
  #       gamma: 3.3
  #       d: 12.0
  #   location:
  #     model_type: side
  #     side: west
  #   data:
  #     model_type: constantpar
  #     hs: 2.0
  #     per: 12.0
  #     dir: 255.0
  #     dd: 25.0

  initial:
    kind:
      model_type: default

  physics:
    gen:
      model_type: gen3
    #   source_terms:
    #     model_type: westhuysen
    # quadrupl:
    #   iquad: 2
    # breaking:
    #   model_type: constant
    #   gamma: 0.73
    # friction:
      # model_type: madsen
      # kn: 0.2
    # triad:
    #   model_type: triad
# OFF WINDGROWTH|QUADRUPL|WCAPPING|BREAKING|REFRAC|FSHIFT|BNDCHK
  prop:
    scheme:
      model_type: bsbt

  numeric:
    stop:
      model_type: stopc
      dabs: 0.01
      drel: 0.01
      curvat: 0.05
      npnts: 95
      mode:
        model_type: nonstat
        mxitns: 3

  output:
    points:
      model_type: points
      sname: pts
      xp: [367049, 368272, 366866, 368126, 366841.992, 368097.996, 370599.994]
      yp: [6390660, 6391109, 6388905, 6389366, 6390651.493, 6390898.492, 6391048.490]
    quantity:
      model_type: quantities
      quantities:
        - output: [depth, hsign, tps, dir, tm01, propagat]
          excv: -9
        - output: [hswell]
          fswell: 0.125
    block:
      sname: COMPGRID
      fname: swangrid.nc
      output: [depth, wind, hsign, tps, dir, propagat]
      times:
        dfmt: hr
    # table:
    #   sname: pts
    #   format: header
    #   fname: swantable.txt
    #   output: [time, hsign, hswell, dir, tps, tm01]
    #   times:
    #     dfmt: hr
    # specout:
    #   sname: pts
    #   fname: swanspec.nc
    #   dim:
    #     model_type: spec2d
    #   freq:
    #     model_type: abs
    #   times:
    #     dfmt: hr

  lockup:
    compute:
      model_type: nonstat
      initstat: True
      times:
        model_type: nonstationary
        tfmt: 1
        dfmt: hr
      hotfile:
        fname: hotfile.txt
        format: free
      hottimes: [-1]
